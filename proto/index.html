<html>
  <head>
    <title>Titulo</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">    

    <!-- FIXME: este el key del CBM -->
    <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;sensor=false&amp;key=ABQIAAAA9bGCOCqFgXcv08MI67_MnRQL9-T7OIQjXggHr1bZOXBxsSy_IhR1HUtSfEVtae4Kb-Fyp5QXZKPrbA" type="text/javascript"></script>
    <script src="resources/js/jquery-1.3.2.js" type="text/javascript"></script>

    <style type="text/css" media="screen">
      #map { 
          float:left;
          width:700px;
          height:500px; 
      }
      #list { 
          float:left;
          width:200px;
          background:#eee;
          list-style:none;
          padding:0; 
      }
      #list li { 
          padding:10px; 
      }
      #list li:hover { 
          background:#555;
          color:#fff;
          cursor:pointer;
          cursor:hand; 
      }
    </style>

    <script type="text/javascript">

    var estaciones = [
        ["Jose", 10.083, -64.917],
        ["Barcelona", 10.133, -64.7],
        ["Puerto PÃ­ritu", 10.06667, -65.05],
        ["El Tigre", 9.91667, -65.08333]
    ]

    $(document).ready(function(){
      if (GBrowserIsCompatible()) {
          var map = new GMap2(document.getElementById("map"));
          map.setCenter(new GLatLng(10.083,-64.917), 10);
          map.setMapType(G_PHYSICAL_MAP);
          var markers = {};
          $(estaciones).each(function(i, val){
              var latlng = new GLatLng(val[1], val[2]);
              var marker = new GMarker(latlng)
              map.addOverlay(marker);
              markers[val[0]] = marker;

              var activate = function(){
                  map.openInfoWindowHtml(latlng, '<b>'+val[0]+'</b><br/><small>' + val[1] + "," + val[2]+"</small>");
                  // map.panTo(marker.getLatLng());
              };

              GEvent.addListener(marker, "click", activate);
              $("<li />")
                  .html(val[0])
                  .click(activate)
                  .appendTo("#list");
          });

          map.setUIToDefault();
      }
    });        
    </script>
  </head>

  <body onunload="GUnload()">
    <ul id="list">
    </ul>
    <div id="map" ></div>
    <div id="location_detail" style="width: 25%; height: 600px; border: 1px solid gray; float: left;">
    </div>

  </body>
</html>
